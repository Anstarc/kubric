# ---
FROM ubuntu:22.04

# --- install C++ dependencies
RUN apt-get update --fix-missing
RUN apt-get install -y wget
RUN apt-get install -y libceres1
RUN apt-get install -y libfreeimage3
RUN apt-get install -y libgl1
RUN apt-get install -y libglew2.1
RUN apt-get install -y libqt5core5a
RUN apt-get install -y libqt5gui5
RUN apt-get install -y libqt5widgets5

RUN wget https://launchpad.net/ubuntu/+archive/primary/+files/colmap_3.6+really3.6-1_amd64.deb
RUN dpkg -i colmap_3.6+really3.6-1_amd64.deb

# --- final call
WORKDIR /workspace